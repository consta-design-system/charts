import { ScatterExample, ScatterExampleSimple, ScatterExampleColor } from './examples/ScatterExample/ScatterExample'

import { RemadeInfo } from '@/__private__/storybook/components/RemadeInfo/RemadeInfo'

# Scatter

<RemadeInfo
  commponentName="Scatter"
  apiUrl="https://g2plot.antv.vision/en/docs/api/plots/scatter"
/>

Диаграмма рассеяния или точечная диаграмма, отображает значения двух переменных на декартовой плоскости. Используется, чтобы показать связь между двумя явлениями (или что этой связи нет).

<ScatterExampleColor />

- [Данные](#данные)
- [Сетка](#сетка)
- [Список свойств](#свойства)
- [Пример использования](#пример)

## Точки

Значения переменных, которые нужно показать на диаграмме, можно описать в массиве `data`.

Например, так:

```tsx
data = [
  { x: 1, y: 2 },
  { x: 2, y: 3 },
  { x: 3, y: 4 },
  { x: 4, y: 5 },
  { x: 5, y: 6 },
  { x: 6, y: 7 },
  { x: 7, y: 8 },
  { x: 8, y: 9 },
]
```

Укажите, из какого массива брать данные, в свойстве `data`.

Потом сообщите компоненту, какие элементы массива за какие значения отвечают:
- в свойстве `xField` укажите название элемента с данными для горизонтальной оси,
- в свойстве `yField` — название элемента с данными для вертикальной оси.

```tsx
<Scatter
  data={data}
  xField="x"
  yField="y"
/>

```

Что получилось:

<ScatterExampleSimple />

## Стиль точек

### Цвет точек

С помощью цвета можно показать на диаграмме дополнительный параметр. За цвет отвечает свойство `colorField`. В нём нужно указать название поля, в зависимости от значения которого будет меняться цвет точек.

Например, на этой диаграмме показана зависимость количества наблюдений НЛО  от температуры воздуха. В трёх городах —  Тмутаракани, Урюпинске и Бобруйске. Точки, которые соответствуют разным городам, покрашены в разные цвета.

<ScatterExampleColor />

```tsx
<Scatter
  style={{ marginBottom: 'var(--space-m)', width: 500, height: 300 }}
  data={dataColor}
  xField="temperature"
  yField="ufo"
  colorField="place"
/>
```
### Размер точек

За размер точек отвечает свойство `colorSize`. В нём нужно указать название поля, в зависимости от значения которого будет меняться размер точек.




### Пример

```tsx
import { useThemeVars } from '@consta/uikit/useThemeVars'

const data = [
  {
    iso3: 'ARE',
    'change in female rate': -0.7,
    'change in male rate': 3.3000000000000043,
    female_2000: 1.9,
    male_2000: 34.3,
    female_2015: 1.2,
    male_2015: 37.6,
    income: 'High income',
    pop: 9269612,
    EN: 'United Arab Emirates',
    DE: 'Vereinigte Arabische Emirate',
    FR: 'Émirats arabes unis',
    IT: 'Emirati Arabi Uniti',
    ES: 'Emiratos Árabes Unidos',
    PT: 'Emirados Árabes Unidos',
    RU: 'Объединенные Арабские Эмираты',
    ZH: '阿拉伯联合酋长国',
    JA: 'アラブ首長国連邦',
    AR: 'الإمارات العربية المتحدة',
    continent: 'Asia',
  },
  //..//..
]

export function ScatterExample() {
  const vars = useThemeVars()
  return (
    <Scatter
      data={data}
      xField="change in female rate"
      appendPadding={30}
      yField="change in male rate"
      sizeField="pop"
      size={[4, 30]}
      shape="circle"
      colorField="continent"
      legend={{
        layout: 'horizontal',
        position: 'top-left',
        marker: {
          symbol: 'square',
        },
      }}
      pointStyle={{
        fillOpacity: 0.6,
        stroke: null,
      }}
      xAxis={{
        grid: {
          line: {
            style: {
              stroke: vars.color.primary['--color-bg-system'],
            },
          },
        },
        line: {
          style: {
            stroke: vars.color.primary['--color-bg-system'],
          },
        },
      }}
    />
  )
}
```

<ScatterExample />
