import {
  BulletExample,
  BulletExampleSingle,
  BulletExampleNoAxys,
} from './examples/BulletExample/BulletExample'

import {
  RemadeInfo,
  RemadeTableInfo,
} from '@/__private__/storybook/components/RemadeInfo/RemadeInfo'

# Bullet

<RemadeInfo commponentName="Bullet" apiUrl="https://g2plot.antv.vision/en/docs/api/plots/bullet" />

Диаграмма-термометр (или диаграмма-шкала). Нужна, чтобы показать отношение результата к сложной цели. Например:

- показать все этапы, через которые должен пройти процесс, и точку, в которой он сейчас,
- KPI и чего удалось достичь,
- цель и результат проверки.

<BulletExampleLabel />

- [Данные](#данные)
- [Сетка](#сетка)
- [Список свойств](#свойства)
- [Пример использования](#пример)

## Данные

Описать данные можно в массиве `data`. Что можно указать:

- название линии,
- набор значений для фона (если укажете одно, фон будет сплошным),
- набор значений для отрезков,
- цель.

Например, так:

```tsx
{ title: 'Наша первая цель', range: [50, 100], mesures: [5, 20, 30, 25], target: 85 },
{ title: 'Наша вторая цель', range: [100], mesures: [30], target: 70 },
```

Укажите, из какого массива брать данные, в свойстве `data`.

Потом сообщите компоненту, какие элементы массива за какие данные отвечают:

- за описание отрезков отвечает свойство `measureField`,
- за фон — `rangeField`,
- за цель — `targetField` (на линии появится вертикальная полоска),
- за название линии (видно слева от неё) отвечает свойство `xField`.

```tsx
<Bullet data={data} measureField="measures" rangeField="ranges" targetField="target" />
```

Что получилось:

<BulletExampleSingle />

## Сетка

По умолчанию сетка всегда видна и полностью заполняет контейнер с компонентом.

Если не хотите её показывать, добавьте `yAxis={false}`.

<BulletExampleNoAxys />

```tsx
<Bullet
  data={data}
  measureField="measures"
  rangeField="ranges"
  targetField="target"
  yAxis={false}
/>
```

## Свойства

<RemadeTableInfo apiUrl="https://g2plot.antv.vision/en/docs/api/plots/bullet" />

| Свойство                  | Тип и значения | По умолчанию | Описание                                                               |
| ------------------------- | -------------- | ------------ | ---------------------------------------------------------------------- |
| [`data`](#данные)         | `Data[]`       | -            | Массив с информацией о линиях                                          |
| [`measureField`](#данные) | `string`       | -            | Ключ элемента массива из свойства `data` с описанием отрезков          |
| [`rangeField`](#данные)   | `string`       | -            | Ключ элемента массива из свойства `data` с описанием фона              |
| [`targetField`](#данные)  | `string`       | -            | Ключ элемента массива из свойства `data` с описанием целевого значения |
| [`yAxis`](#сетка)         | `boolean`      | -            | Нужно ли показывать сетку                                              |
| `className`               | `string`       | -            | Дополнительный CSS-класс компонента                                    |

## Пример

```tsx
const data = [
  { title: 'bullet1', ranges: [100], measures: [20, 30], target: 85 },
  { title: 'bullet2', ranges: [100], measures: [10, 50], target: 85 },
  { title: 'bullet3', ranges: [100], measures: [30, 10, 10, 10], target: 55 },
  { title: 'bullet4', ranges: [100], measures: [30], target: 60 },
  { title: 'bullet5', ranges: [100], measures: [45], target: 85 },
]

function BulletExample() {
  return (
    <Bullet
      data={data}
      measureField="measures"
      rangeField="ranges"
      targetField="target"
      xField="title"
      label={{
        measure: {
          position: 'middle',
          style: {
            fill: '#fff',
          },
        },
      }}
    />
  )
}
```

<BulletExample />
